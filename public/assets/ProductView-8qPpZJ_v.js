import{u as Y,C as u,o as Z,a as ee,L as le,G as $,M as ae,b as s,c as i,e as l,z as p,n,g as A,w as te,H as f,k as d,F as m,y,N as se,O as w}from"./index-G3CwyYuo.js";import{s as ie,a as ne}from"./radiobutton.esm-UxW1B4ua.js";const oe={class:"product"},re={class:"product-top-container"},ue={class:"product-header"},ce=l("span",null,"Acasa",-1),de=l("span",null,"Modele",-1),ve={class:"bike-name-crumb"},pe={class:"product-info-left"},_e={class:"product-img-container"},he=["src"],ke=["src","onClick"],be={class:"product-left-info-details"},fe=l("h2",null,"Detalii utile",-1),me=l("li",null,[l("i",{class:"pi pi-percentage"}),p("Rate fara dobanda")],-1),ye=l("li",null,[l("i",{class:"pi pi-chart-bar"}),p("Finantare flexibila in rate ")],-1),ge=l("li",null,[l("i",{class:"pi pi-money-bill"}),p("Rate fara avans")],-1),Me={key:0},Ce=l("i",{class:"pi pi-car"},null,-1),Be={key:0,class:"installment-container"},xe=l("h2",null,"Calculeaza-ti ratele",-1),Ve={class:"installment-price"},Ie={class:"installment-price"},Ae={class:"product-info-right"},Se={class:"product-info-details"},Ne={class:"bike-subtitle"},Oe={class:"bike-subtitle"},Pe={key:0},Ue={class:"bike-subtitle"},Re={key:1,class:"product-description"},De={key:0,class:"colors-container"},$e=l("h3",null,"Culori disponibile:",-1),we=["onClick"],Te={key:0,class:"color-display"},ze={key:1,class:"color-display"},Ee={class:"product-info-price"},je={key:0,class:"omologare-display"},Fe={key:0},Je={key:1,class:"no-omologare"},qe=l("div",{class:"no-omologare-icon"},null,-1),Ge={key:1,class:"eur-price"},He={key:0},Le={key:2,class:"ron-price"},Ke={key:0},Qe={key:3,class:"product-info-price-discount"},We={class:"product-bottom-container"},Xe=l("h2",null,"Vehicule similare",-1),Ye={class:"similar-models-container"},Ze=["onClick"],el={class:"similar-img-container"},ll=["src"],al={class:"similar-info-container"},tl={key:0},sl={key:1},il={key:2},ul={__name:"ProductView",setup(nl){const r=Y(),e=u({}),x=u(""),S=u([]);u(0);const V=u(""),N=u(""),_=u(12),T=u([12,24,36,48]),g=u([]),c=u(0),h=u(0),M=u(0),C=u(0),O=u([]),z=document.querySelector(".desktop-nav")!==null?document.querySelector(".desktop-nav"):document.querySelector(".mobile-nav");Z(()=>{r.togglePreloader(!0),r.currentBike===null&&(r.currentBike=JSON.parse(localStorage.getItem("currentBike"))),setTimeout(()=>{r.togglePreloader(!1)},1e3)});const k=u();function I(){r.currentBike===null&&(r.currentBike=JSON.parse(localStorage.getItem("currentBike"))),e.value=r.currentBike,x.value=e.value.image,S.value=q(),e.value.omologare==="neinmatriculabil"&&(e.value.omologare=null),V.value=e.value.bike_name.toUpperCase(),N.value=e.value.bike_slogan!==null?e.value.bike_slogan.toUpperCase():"",typeof e.value.price=="object"&&e.value.price!==null?c.value=e.value.price[0].replace(/\D/g,""):e.value.price!==null?c.value=e.value.price.replace(/\D/g,""):c.value="Pret indisponibil",typeof e.value.old_price=="object"&&e.value.old_price!==null?h.value=e.value.old_price[0].replace(/\D/g,""):e.value.old_price!==null?h.value=e.value.old_price.replace(/\D/g,""):h.value="Pret indisponibil",O.value=j(F()[0],4),k.value=JSON.parse(e.value.colors_display)}ee(()=>{z.classList.add("sticky"),setTimeout(()=>{I(),M.value=H(),C.value=L()},300)});const E=(a,o)=>{if(o.brand==="royal_enfield")c.value=parseInt(o.price[o.colors.indexOf(a)]),h.value=parseInt(o.old_price[o.colors.indexOf(a)]);else{const b=r.allBikes[`${e.value.brand}_${e.value.vehicle_type}`].filter(B=>B.bike_name.includes(a)).filter(B=>{const R=B.bike_name.split("-"),W=R.slice(0,R.indexOf(a)),D=e.value.bike_name.split("-"),X=D.slice(0,D.indexOf(a));if(W.join("-")===X.join("-"))return B});b.length>0&&P(b[0])}},P=a=>{localStorage.setItem("currentBike",JSON.stringify(a)),r.setCurrentBike(a),I(),window.scrollTo(0,0)};function j(a,o){if(!Array.isArray(a)||a.length===0||o<=0)return[];const t=Math.floor(Math.random()*(a.length-o+1)),v=t+o;return a.slice(t,v)}const F=()=>{const a=[];for(const o in r.allBikes){const t=r.allBikes[o];for(const v in t){const b=t[v];b.bike_name!==void 0&&b.bike_name===e.value.bike_name&&a.push(t)}}return[...a]},J=()=>e.value.bike_category===""?e.value.bike_slogan:e.value.bike_description,q=()=>{const a=[];if(e.value.gallery===null)return a;if(e.value.gallery[0]==="")a.push(U(e.value.image));else for(const o of e.value.gallery)a.push(U(o.replace(/\'/g,"")));return a},U=a=>(a.includes("$http")&&(a=a.replace("$http","http")),a.includes("motoboom")&&(a=a.replace("125x1","650x1")),a),G=()=>{if(e.value.category!==void 0&&e.value.category!==null)return e.value.category.toUpperCase()},H=()=>{let a=Array.isArray(e.value.price)?e.value.price[0]:e.value.price;return a=parseInt(a.replace(/\D/g,"")),Math.round(a/_.value)},L=()=>{let a=Array.isArray(e.value.price)?e.value.price[0]:e.value.price;return a=parseInt(a.replace(/\D/g,"")),Math.round(Math.ceil(a*r.forexValue)/_.value)};function K(a){x.value=a}const Q=le(()=>{if(e.value.rabla!=="null"&&e.value.rabla!=="undefined"&&e.value.rabla!==null&&e.value.rabla!==void 0&&e.value.rabla!==""&&e.value.rabla!=="NU"&&e.value.rabla!=="nu"&&e.value.rabla!=="Nu"&&e.value.rabla!=="nU"&&e.value.rabla!==!1&&e.value.rabla!=="false")return!0});return $(()=>g.value,()=>{const a=e.value.omologare.indexOf(g.value);c.value=e.value.price[a].replace(/\D/g,""),M.value=Math.round(c.value/_.value),C.value=Math.round(Math.ceil(c.value*r.forexValue)/_.value)}),$(()=>_.value,()=>{M.value=Math.round(c.value/_.value),C.value=Math.round(Math.ceil(c.value*r.forexValue)/_.value)}),ae(()=>{I()}),(a,o)=>(s(),i("div",oe,[l("div",re,[l("div",ue,[ce,p(" / "),de,p(" / "),l("span",ve,n(V.value),1)]),l("section",pe,[l("div",_e,[l("img",{lazy:"",src:x.value,alt:""},null,8,he),A(f(se),{class:"product-carousel",verticalViewPortHeight:"400px",circular:!0,numVisible:5,value:S.value,showIndicators:!1,orientation:"vertical"},{item:te(t=>[l("img",{class:"product-carousel-img",src:t.data,onClick:v=>K(t.data)},null,8,ke)]),_:1},8,["value"])]),l("div",be,[l("div",null,[fe,l("ul",null,[me,ye,ge,Q.value?(s(),i("li",Me,[Ce,p("Program RABLA")])):d("",!0)])]),e.value.price!==null?(s(),i("div",Be,[xe,l("label",null,[p(" Pentru a plati suma totala in "),A(f(ie),{options:T.value,modelValue:_.value,"onUpdate:modelValue":o[0]||(o[0]=t=>_.value=t)},null,8,["options","modelValue"]),p(" luni ")]),l("div",Ve," Va trebuii sa platiti: "+n(M.value)+" EUR pe luna ",1),l("div",Ie," SAU "+n(C.value)+" RON pe luna ",1)])):d("",!0)])]),l("section",Ae,[l("div",Se,[l("h1",null,n(V.value),1),l("div",Ne," Producator: "+n(e.value.brand!==void 0?e.value.brand.toUpperCase():"Necunoscut"),1),l("div",Oe,"Categoria: "+n(G()),1),e.value.permis!==void 0&&e.value.permis.length>0?(s(),i("div",Pe,[p(" Permis: "),(s(!0),i(m,null,y(e.value.permis,t=>(s(),i("span",{class:"info-permis",key:t},n(t.replace(/[{}"']/g,"")),1))),128))])):d("",!0),l("div",Ue," Tip Vehicul: "+n(e.value.vehicle_type!==void 0?e.value.vehicle_type.replace("bikes","Motociclete").replace("scooters","Scutere").replace("atv","ATV"):"Necunoscut"),1),l("p",null,n(N.value),1),e.value.bike_description!==""?(s(),i("p",Re,n(J()),1)):d("",!0)]),k.value!==null?(s(),i("div",De,[$e,l("ul",null,[(s(!0),i(m,null,y(e.value.colors,t=>(s(),i("li",{key:t,onClick:v=>E(t,e.value)},[l("span",null,n(t),1),Array.isArray(k.value[t])?(s(),i("div",Te,[(s(!0),i(m,null,y(k.value[t],v=>(s(),i("div",{class:"color-block",key:v,style:w({background:`#${v}`})},null,4))),128))])):(s(),i("div",ze,[l("div",{class:"color-block",style:w({background:`#${k.value[t]}`})},null,4)]))],8,we))),128))])])):d("",!0),l("div",Ee,[e.value.omologare!==null?(s(),i("div",je,[p(" Omologare: "),e.value.omologare!==null&&e.value.omologare.length>1?(s(),i("ul",Fe,[(s(!0),i(m,null,y(e.value.omologare,t=>(s(),i("li",{key:t},[l("label",null,[A(f(ne),{modelValue:g.value,"onUpdate:modelValue":o[1]||(o[1]=v=>g.value=v),binary:!0,value:t},null,8,["modelValue","value"]),l("div",null,n(t==="l7e"?"Euro5":t.toUpperCase()),1)])]))),128))])):e.value.omologare!==null&&e.value.omologare[0]!==void 0?(s(),i("div",Je,[qe,p(" "+n(e.value.omologare[0].toUpperCase()),1)])):d("",!0)])):d("",!0),e.value.price!==null?(s(),i("div",Ge,[l("span",null,n(c.value)+" EUR",1),e.value.old_price!==null?(s(),i("s",He,n(h.value)+" EUR",1)):d("",!0)])):d("",!0),e.value.price!==null?(s(),i("div",Le,[l("span",null,n(Math.ceil(c.value*f(r).forexValue))+" RON",1),e.value.old_price!==null?(s(),i("s",Ke,n(Math.ceil(h.value*f(r).forexValue))+" RON",1)):d("",!0)])):d("",!0),e.value.old_price!==null?(s(),i("div",Qe," Reducere de "+n(Math.round((c.value-h.value)/c.value*100).toFixed(0))+"% ",1)):d("",!0)])])]),l("div",We,[Xe,l("div",Ye,[(s(!0),i(m,null,y(O.value,t=>(s(),i("div",{class:"similar-model-card",key:t,onClick:v=>P(t)},[l("div",el,[l("img",{lazy:"",src:t.image,alt:""},null,8,ll)]),l("div",al,[l("h3",null,n(t.bike_name.toUpperCase()),1),t.price!==null?(s(),i("h4",tl,n(Array.isArray(t.price)?t.price[0]:t.price)+" "+n(t.currency),1)):(s(),i("h4",sl,"Pret Indisponibil")),t.old_price!==null?(s(),i("h4",il,[l("s",null,n(Array.isArray(t.old_price)?t.old_price[0]:t.old_price)+" "+n(t.currency),1)])):d("",!0)])],8,Ze))),128))])])]))}};export{ul as default};

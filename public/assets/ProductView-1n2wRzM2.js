import{u as z,r as u,o as D,a as F,L as J,M as $,b as i,c as n,e as t,A as d,t as s,j as C,w as H,H as v,q as c,F as S,f as N,N as L}from"./index-N1l7OWhV.js";import{s as j}from"./dropdown.esm-zC6LoXLr.js";const G={class:"product"},K={class:"product-top-container"},Q={class:"product-header"},W=t("span",null,"Acasa",-1),X=t("span",null,"Modele",-1),Y={class:"bike-name-crumb"},Z={class:"product-info-left"},ee={class:"product-img-container"},te=["src"],le=["src","onClick"],ae={class:"product-left-info-details"},se=t("h2",null,"Detalii utile",-1),ie=t("li",null,[t("i",{class:"pi pi-percentage"}),d("Rate fara dobanda")],-1),ne=t("li",null,[t("i",{class:"pi pi-chart-bar"}),d("Finantare flexibila in rate ")],-1),oe=t("li",null,[t("i",{class:"pi pi-money-bill"}),d("Rate fara avans")],-1),re={key:0},ce=t("i",{class:"pi pi-car"},null,-1),ue={key:0,class:"installment-container"},de=t("h2",null,"Calculeaza-ti ratele",-1),_e={class:"installment-price"},pe={class:"installment-price"},ve={class:"product-info-right"},he={class:"product-info-details"},me={class:"bike-subtitle"},fe={class:"bike-subtitle"},ke={class:"bike-subtitle"},be={key:0},ge={class:"bike-subtitle"},ye={key:1,class:"product-description"},Me={class:"product-info-price"},Be={key:0,class:"eur-price"},Ce={key:0},Se={key:1,class:"ron-price"},Ne={key:0},Ve={key:2,class:"product-info-price-discount"},xe={class:"product-bottom-container"},Ie=t("h2",null,"Modele similare",-1),Re={class:"similar-models-container"},Ae=["onClick"],Ue={class:"similar-img-container"},we=["src"],Pe={class:"similar-info-container"},Oe={key:0},Te={key:1},Ee={key:2},Fe={__name:"ProductView",setup(qe){const o=z(),e=u({}),h=u(""),k=u([]),b=u(0),m=u(""),g=u(""),p=u(12),V=u([12,24,36,48]),y=u([]),x=document.querySelector(".desktop-nav")!==null?document.querySelector(".desktop-nav"):document.querySelector(".mobile-nav");D(()=>{o.togglePreloader(!0),o.currentBike===null&&(o.currentBike=JSON.parse(localStorage.getItem("currentBike"))),setTimeout(()=>{o.togglePreloader(!1)},1e3)});function f(){o.currentBike===null&&(o.currentBike=JSON.parse(localStorage.getItem("currentBike"))),e.value=o.currentBike,h.value=e.value.image,k.value=w(),m.value=e.value.bike_name.toUpperCase(),g.value=e.value.bike_slogan.toUpperCase(),e.value.old_price!=="null"&&e.value.old_price!==""&&(b.value=Math.round((e.value.price-e.value.old_price)/e.value.price*100).toFixed(0)),y.value=R(A()[0],4)}F(()=>{x.classList.add("sticky"),setTimeout(()=>{f()},300)});const I=a=>{localStorage.setItem("currentBike",JSON.stringify(a)),o.setCurrentBike(a),f(),window.scrollTo(0,0)};function R(a,r){if(!Array.isArray(a)||a.length===0||r<=0)return[];const l=Math.floor(Math.random()*(a.length-r+1)),_=l+r;return a.slice(l,_)}const A=()=>{const a=[];for(const r in o.allBikes){const l=o.allBikes[r];for(const _ in l){const B=l[_];B.bike_name!==void 0&&B.bike_name===e.value.bike_name&&a.push(l)}}return[...a]},U=()=>e.value.bike_category===""?e.value.bike_slogan:e.value.bike_description,w=()=>{const a=[];if(e.value.gallery===null)return a;if(e.value.gallery[0]==="")a.push(M(e.value.image));else for(const r of e.value.gallery)a.push(M(r));return a},M=a=>(a.includes("motoboom")&&(a=a.replace("125x1","650x1")),a),P=()=>{if(e.value.category!==void 0&&e.value.category!==null)return e.value.category.toUpperCase()},O=()=>Math.round(e.value.price/p.value),T=()=>Math.round(Math.ceil(e.value.price*o.forexValue)/p.value);function E(a){h.value=a}const q=J(()=>{if(e.value.rabla!=="null"&&e.value.rabla!=="undefined"&&e.value.rabla!==null&&e.value.rabla!==void 0&&e.value.rabla!==""&&e.value.rabla!=="NU"&&e.value.rabla!=="nu"&&e.value.rabla!=="Nu"&&e.value.rabla!=="nU"&&e.value.rabla!==!1&&e.value.rabla!=="false")return!0});return $(()=>{f()}),(a,r)=>(i(),n("div",G,[t("div",K,[t("div",Q,[W,d(" / "),X,d(" / "),t("span",Y,s(m.value),1)]),t("section",Z,[t("div",ee,[t("img",{lazy:"",src:h.value,alt:""},null,8,te),C(v(L),{class:"product-carousel",verticalViewPortHeight:"400px",circular:!0,numVisible:5,value:k.value,showIndicators:!1,orientation:"vertical"},{item:H(l=>[t("img",{class:"product-carousel-img",src:l.data,onClick:_=>E(l.data)},null,8,le)]),_:1},8,["value"])]),t("div",ae,[t("div",null,[se,t("ul",null,[ie,ne,oe,q.value?(i(),n("li",re,[ce,d("Program RABLA")])):c("",!0)])]),e.value.price!==null?(i(),n("div",ue,[de,t("label",null,[d(" Pentru a plati suma totala in "),C(v(j),{options:V.value,modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=l=>p.value=l)},null,8,["options","modelValue"]),d(" luni ")]),t("div",_e," Va trebuii sa platiti: "+s(O())+" EUR pe luna ",1),t("div",pe," SAU "+s(T())+" RON pe luna ",1)])):c("",!0)])]),t("section",ve,[t("div",he,[t("h1",null,s(m.value),1),t("div",me," Producator: "+s(e.value.brand!==void 0?e.value.brand.toUpperCase():"Necunoscut"),1),t("div",fe,"An fabricatie: "+s(e.value.main_year),1),t("div",ke,"Categoria: "+s(P()),1),e.value.permis!==void 0&&e.value.permis.length>0?(i(),n("div",be,[d(" Permis: "),(i(!0),n(S,null,N(e.value.permis,l=>(i(),n("span",{class:"info-permis",key:l},s(l),1))),128))])):c("",!0),t("div",ge," Tip Vehicul: "+s(e.value.vehicle_type!==void 0?e.value.vehicle_type.replace("bikes","Motociclete").replace("scooters","Scutere").replace("atv","ATV"):"Necunoscut"),1),t("p",null,s(g.value),1),e.value.bike_description!==""?(i(),n("p",ye,s(U()),1)):c("",!0)]),t("div",Me,[e.value.price!==null?(i(),n("div",Be,[t("span",null,s(e.value.price)+" EUR",1),e.value.old_price!==null?(i(),n("s",Ce,s(e.value.old_price)+" EUR",1)):c("",!0)])):c("",!0),e.value.price!==null?(i(),n("div",Se,[t("span",null,s(Math.ceil(e.value.price*v(o).forexValue))+" RON",1),e.value.old_price!==null?(i(),n("s",Ne,s(Math.ceil(e.value.old_price*v(o).forexValue))+" RON",1)):c("",!0)])):c("",!0),e.value.old_price!==null?(i(),n("div",Ve," Reducere de "+s(b.value)+"% ",1)):c("",!0)])])]),t("div",xe,[Ie,t("div",Re,[(i(!0),n(S,null,N(y.value,l=>(i(),n("div",{class:"similar-model-card",key:l,onClick:_=>I(l)},[t("div",Ue,[t("img",{lazy:"",src:l.image,alt:""},null,8,we)]),t("div",Pe,[t("h3",null,s(l.bike_name.toUpperCase()),1),l.price!==null?(i(),n("h4",Oe,s(l.price)+" "+s(l.currency),1)):(i(),n("h4",Te,"Pret Indisponibil")),l.old_price!==null?(i(),n("h4",Ee,[t("s",null,s(l.old_price)+" "+s(l.currency),1)])):c("",!0)])],8,Ae))),128))])])]))}};export{Fe as default};

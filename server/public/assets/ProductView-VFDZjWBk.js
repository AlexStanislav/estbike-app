import{H as S,r as n,b as P,I as $,c as o,d as e,E as r,t as a,j as k,w as D,K as b,i as v,F,e as T,o as c,L as z,u as E}from"./index-nYloSMez.js";import{s as H}from"./dropdown.esm-ketjMRmH.js";const j={class:"product"},G={class:"product-top-container"},K={class:"product-header"},L=e("span",null,"Acasa",-1),O=e("span",null,"Modele",-1),q={class:"bike-name-crumb"},J={class:"product-info-left"},Q={class:"product-img-container"},W=["src"],X=["src","onClick"],Y={class:"product-left-info-details"},Z=e("div",null,[e("h2",null,"Detalii utile"),e("ul",null,[e("li",null,[e("i",{class:"pi pi-percentage"}),r("Rate fara dobanda")]),e("li",null,[e("i",{class:"pi pi-chart-bar"}),r("Finantare flexibila in rate ")]),e("li",null,[e("i",{class:"pi pi-money-bill"}),r("Rate fara avans")]),e("li",null,[e("i",{class:"pi pi-car"}),r("Program RABLA")])])],-1),ee={class:"installment-container"},te=e("h2",null,"Calculeaza-ti ratele",-1),le={class:"installment-price"},se={class:"product-info-right"},ae={class:"product-info-details"},ie={key:0,class:"product-description"},ne={class:"product-info-price"},oe=e("span",null,"Pret: ",-1),ce={key:0},re={key:1,class:"product-info-price-discount"},ue={class:"product-bottom-container"},de=e("h2",null,"Modele similare",-1),pe={class:"similar-models-container"},_e=["onClick"],ve={class:"similar-img-container"},he=["src"],me={class:"similar-info-container"},fe={key:0},ke={key:1},be={key:2},Me={__name:"ProductView",setup(ge){const d=S(),t=n({}),p=n(""),h=n([]),g=n(0),_=n(""),m=n(""),f=n(12),I=n([12,24,36,48]),y=n([]);P(()=>{setTimeout(()=>{d.currentBike===null&&$.push({path:"/"}),t.value=d.currentBike,p.value=t.value.image,h.value=C(),_.value=t.value.bike_name.toUpperCase(),m.value=t.value.bike_slogan.toUpperCase(),t.value.old_price!=="null"&&t.value.old_price!==""&&(g.value=Math.round((t.value.price-t.value.old_price)/t.value.price*100).toFixed(0)),y.value=V(A()[0],4)},300)});const x=s=>{t.value=s,p.value=t.value.image,h.value=C(),_.value=t.value.bike_name.toUpperCase(),m.value=t.value.bike_slogan.toUpperCase()};function V(s,i){if(!Array.isArray(s)||s.length===0||i<=0)return[];const l=Math.floor(Math.random()*(s.length-i+1)),u=l+i;return s.slice(l,u)}const A=()=>{const s=[];for(const i in d.allBikes){const l=d.allBikes[i];for(const u in l){const M=l[u];M.bike_name!==void 0&&M.bike_name===t.value.bike_name&&s.push(l)}}return[...s]},B=()=>t.value.bike_category===""?t.value.bike_slogan:t.value.bike_description,C=()=>{const s=[];for(const i of t.value.gallery.split(","))s.push(U(i));return s},U=s=>(s.includes("motoboom")&&(s=s.replace("125x1","650x1")),s),w=()=>{if(t.value.category!==void 0)return t.value.category.toUpperCase()},N=()=>Math.round(t.value.price/f.value);function R(s){p.value=s}return(s,i)=>(c(),o("div",j,[e("div",G,[e("div",K,[L,r(" / "),O,r(" / "),e("span",q,a(_.value),1)]),e("section",J,[e("div",Q,[e("img",{src:p.value,alt:""},null,8,W),k(b(z),{class:"product-carousel",verticalViewPortHeight:"400px",circular:!0,numVisible:5,value:h.value,showIndicators:!1,orientation:"vertical"},{item:D(l=>[e("img",{class:"product-carousel-img",src:l.data,onClick:u=>R(l.data)},null,8,X)]),_:1},8,["value"])]),e("div",Y,[Z,e("div",ee,[te,e("label",null,[r(" Pentru a plati suma totala in "),k(b(H),{options:I.value,modelValue:f.value,"onUpdate:modelValue":i[0]||(i[0]=l=>f.value=l)},null,8,["options","modelValue"]),r(" luni ")]),e("div",le," Va trebuii sa platiti: "+a(N())+" "+a(t.value.currency)+" pe luna ",1),k(b(E),{severity:"danger",label:"Modalitati de plata",onClick:i[1]||(i[1]=l=>s.buyNow())})])])]),e("section",se,[e("div",ae,[e("h1",null,a(_.value),1),e("h4",null,"Categoria: "+a(w()),1),e("p",null,a(m.value),1),t.value.bike_description!==""?(c(),o("p",ie,a(B()),1)):v("",!0)]),e("div",ne,[e("b",null,[oe,r(a(t.value.price)+" "+a(t.value.currency),1)]),t.value.old_price!==""&&t.value.old_price!=="null"&&t.value.old_price!==null?(c(),o("span",ce,[e("s",null,a(t.value.old_price)+" "+a(t.value.currency),1)])):v("",!0),t.value.old_price!==""&&t.value.old_price!=="null"&&t.value.old_price!==null?(c(),o("div",re," Reducere de "+a(g.value)+"% ",1)):v("",!0)])])]),e("div",ue,[de,e("div",pe,[(c(!0),o(F,null,T(y.value,l=>(c(),o("div",{class:"similar-model-card",key:l,onClick:u=>x(l)},[e("div",ve,[e("img",{src:l.image,alt:""},null,8,he)]),e("div",me,[e("h3",null,a(l.bike_name.toUpperCase()),1),l.price!=="null"?(c(),o("h4",fe,a(l.price)+" "+a(l.currency),1)):(c(),o("h4",ke,"Pret Indisponibil")),l.old_price!=="null"&&l.old_price!==""&&l.old_price!==null?(c(),o("h4",be,[e("s",null,a(l.old_price)+" "+a(l.currency),1)])):v("",!0)])],8,_e))),128))])])]))}};export{Me as default};

import{u as z,r as u,o as D,L as F,a as $,M as H,N as J,b as i,c as o,e as l,A as d,t as s,j as x,w as L,H as m,q as c,F as B,f as N,P as j}from"./index-05bL_WwS.js";import{s as G}from"./dropdown.esm-AFg3j7zM.js";const K={class:"product"},Q={class:"product-top-container"},W={class:"product-header"},X=l("span",null,"Acasa",-1),Y=l("span",null,"Modele",-1),Z={class:"bike-name-crumb"},ee={class:"product-info-left"},le={class:"product-img-container"},te=["src"],ae=["src","onClick"],se={class:"product-left-info-details"},ie=l("h2",null,"Detalii utile",-1),oe=l("li",null,[l("i",{class:"pi pi-percentage"}),d("Rate fara dobanda")],-1),ne=l("li",null,[l("i",{class:"pi pi-chart-bar"}),d("Finantare flexibila in rate ")],-1),re=l("li",null,[l("i",{class:"pi pi-money-bill"}),d("Rate fara avans")],-1),ce={key:0},ue=l("i",{class:"pi pi-car"},null,-1),de={key:0,class:"installment-container"},_e=l("h2",null,"Calculeaza-ti ratele",-1),pe={class:"installment-price"},ve={class:"installment-price"},he={class:"product-info-right"},me={class:"product-info-details"},fe={class:"bike-subtitle"},be={class:"bike-subtitle"},ke={class:"bike-subtitle"},ge={key:0},ye={class:"bike-subtitle"},Me={key:1,class:"product-description"},Ce={class:"product-info-price"},Ve={key:0,class:"eur-price"},xe={key:0},Be={key:1,class:"ron-price"},Ne={key:0},Se={key:2,class:"product-info-price-discount"},Ie={class:"product-bottom-container"},Re=l("h2",null,"Modele similare",-1),Ue={class:"similar-models-container"},Ae=["onClick"],we={class:"similar-img-container"},Pe=["src"],Te={class:"similar-info-container"},Oe={key:0},Ee={key:1},qe={key:2},$e={__name:"ProductView",setup(ze){const n=z(),e=u({}),p=u(""),f=u([]),k=u(0),v=u(""),b=u(""),h=u(12),S=u([12,24,36,48]),g=u([]),I=document.querySelector(".desktop-nav")!==null?document.querySelector(".desktop-nav"):document.querySelector(".mobile-nav");D(()=>{console.log(F),n.togglePreloader(!0),n.currentBike===null&&(n.currentBike=JSON.parse(localStorage.getItem("currentBike"))),setTimeout(()=>{n.togglePreloader(!1)},1e3)});function y(){n.currentBike===null&&(n.currentBike=JSON.parse(localStorage.getItem("currentBike"))),e.value=n.currentBike,p.value=e.value.image,f.value=M(),v.value=e.value.bike_name.toUpperCase(),b.value=e.value.bike_slogan.toUpperCase(),e.value.old_price!=="null"&&e.value.old_price!==""&&(k.value=Math.round((e.value.price-e.value.old_price)/e.value.price*100).toFixed(0)),g.value=U(A()[0],4)}$(()=>{I.classList.add("sticky"),setTimeout(()=>{y()},300)});const R=a=>{e.value=a,p.value=e.value.image,f.value=M(),v.value=e.value.bike_name.toUpperCase(),b.value=e.value.bike_slogan.toUpperCase(),window.scrollTo(0,0)};function U(a,r){if(!Array.isArray(a)||a.length===0||r<=0)return[];const t=Math.floor(Math.random()*(a.length-r+1)),_=t+r;return a.slice(t,_)}const A=()=>{const a=[];for(const r in n.allBikes){const t=n.allBikes[r];for(const _ in t){const V=t[_];V.bike_name!==void 0&&V.bike_name===e.value.bike_name&&a.push(t)}}return[...a]},w=()=>e.value.bike_category===""?e.value.bike_slogan:e.value.bike_description,M=()=>{const a=[];if(e.value.gallery===null)return a;if(e.value.gallery[0]==="")a.push(C(e.value.image));else for(const r of e.value.gallery)a.push(C(r));return a},C=a=>(a.includes("motoboom")&&(a=a.replace("125x1","650x1")),a),P=()=>{if(e.value.category!==void 0&&e.value.category!==null)return e.value.category.toUpperCase()},T=()=>Math.round(e.value.price/h.value),O=()=>Math.round(Math.ceil(e.value.price*n.forexValue)/h.value);function E(a){p.value=a}const q=H(()=>{if(e.value.rabla!=="null"&&e.value.rabla!=="undefined"&&e.value.rabla!==null&&e.value.rabla!==void 0&&e.value.rabla!==""&&e.value.rabla!=="NU"&&e.value.rabla!=="nu"&&e.value.rabla!=="Nu"&&e.value.rabla!=="nU"&&e.value.rabla!==!1&&e.value.rabla!=="false")return!0});return J(()=>{y()}),(a,r)=>(i(),o("div",K,[l("div",Q,[l("div",W,[X,d(" / "),Y,d(" / "),l("span",Z,s(v.value),1)]),l("section",ee,[l("div",le,[l("img",{lazy:"",src:p.value,alt:""},null,8,te),x(m(j),{class:"product-carousel",verticalViewPortHeight:"400px",circular:!0,numVisible:5,value:f.value,showIndicators:!1,orientation:"vertical"},{item:L(t=>[l("img",{class:"product-carousel-img",src:t.data,onClick:_=>E(t.data)},null,8,ae)]),_:1},8,["value"])]),l("div",se,[l("div",null,[ie,l("ul",null,[oe,ne,re,q.value?(i(),o("li",ce,[ue,d("Program RABLA")])):c("",!0)])]),e.value.price!==null?(i(),o("div",de,[_e,l("label",null,[d(" Pentru a plati suma totala in "),x(m(G),{options:S.value,modelValue:h.value,"onUpdate:modelValue":r[0]||(r[0]=t=>h.value=t)},null,8,["options","modelValue"]),d(" luni ")]),l("div",pe," Va trebuii sa platiti: "+s(T())+" EUR pe luna ",1),l("div",ve," SAU "+s(O())+" RON pe luna ",1)])):c("",!0)])]),l("section",he,[l("div",me,[l("h1",null,s(v.value),1),l("div",fe," Producator: "+s(e.value.brand!==void 0?e.value.brand.toUpperCase():"Necunoscut"),1),l("div",be,"An fabricatie: "+s(e.value.main_year),1),l("div",ke,"Categoria: "+s(P()),1),e.value.permis!==void 0&&e.value.permis.length>0?(i(),o("div",ge,[d(" Permis: "),(i(!0),o(B,null,N(e.value.permis,t=>(i(),o("span",{class:"info-permis",key:t},s(t),1))),128))])):c("",!0),l("div",ye," Tip Vehicul: "+s(e.value.vehicle_type!==void 0?e.value.vehicle_type.replace("bikes","Motociclete").replace("scooters","Scutere").replace("atv","ATV"):"Necunoscut"),1),l("p",null,s(b.value),1),e.value.bike_description!==""?(i(),o("p",Me,s(w()),1)):c("",!0)]),l("div",Ce,[e.value.price!==null?(i(),o("div",Ve,[l("span",null,s(e.value.price)+" EUR",1),e.value.old_price!==null?(i(),o("s",xe,s(e.value.old_price)+" EUR",1)):c("",!0)])):c("",!0),e.value.price!==null?(i(),o("div",Be,[l("span",null,s(Math.ceil(e.value.price*m(n).forexValue))+" RON",1),e.value.old_price!==null?(i(),o("s",Ne,s(Math.ceil(e.value.old_price*m(n).forexValue))+" RON",1)):c("",!0)])):c("",!0),e.value.old_price!==null?(i(),o("div",Se," Reducere de "+s(k.value)+"% ",1)):c("",!0)])])]),l("div",Ie,[Re,l("div",Ue,[(i(!0),o(B,null,N(g.value,t=>(i(),o("div",{class:"similar-model-card",key:t,onClick:_=>R(t)},[l("div",we,[l("img",{lazy:"",src:t.image,alt:""},null,8,Pe)]),l("div",Te,[l("h3",null,s(t.bike_name.toUpperCase()),1),t.price!==null?(i(),o("h4",Oe,s(t.price)+" "+s(t.currency),1)):(i(),o("h4",Ee,"Pret Indisponibil")),t.old_price!==null?(i(),o("h4",qe,[l("s",null,s(t.old_price)+" "+s(t.currency),1)])):c("",!0)])],8,Ae))),128))])])]))}};export{$e as default};
